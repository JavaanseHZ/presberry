<html>
	<head>
	    <title>Presberry - Presentation</title>
	    <link rel="stylesheet" href="/media/idangerous.swiper.css">
		<script src="/media/jquery-1.11.1.min.js"></script>
		<script defer src="/media/idangerous.swiper.min.js"></script>
	    <script>
			window.onload = function() {
				var mySwiper = new Swiper('.swiper-container',{
					mode : 'horizontal',
					loop : true,
					watchActiveIndex : true,
					{{ mode }} : function() {
						{% if order == 'notes' %}
						var pageIndex = mySwiper.activeLoopIndex*2;
						{% else %}
						var pageIndex = mySwiper.activeLoopIndex;
						{% endif %}
						$.post('/setPage', {pageNr: pageIndex});
					}
				});
	    	}
	    </script>
	    <style type="text/css">
			.swiper-container {
				width:{{ width }}px;
				height:{{ height }}px;
			}
		</style>
	</head>
    <body>
	    <div data-role="page">
		  	<div data-role="main" class="ui-content">
			    <div class="swiper-container">
					<div class="swiper-wrapper">
					  	{% if order == 'normal' %}
				    		{% for i in range (numPages) %}
						    <div class="swiper-slide"> 
						      <svg height="{{ height }}" width="{{ width }}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
							  		<image x="0" y="0" height="{{ height }}" width="{{ width }}"  xlink:href="/res/vortrag_{{ i }}.svg" />
							  </svg>
							</div >
							{% endfor %}
						{% endif %}
						{% if order == 'preview' %}
				    		{% for i in range (1, numPages) %}
						    <div class="swiper-slide"> 
						      <svg height="{{ height }}" width="{{ width }}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
							  		<image x="0" y="0" height="{{ height }}" width="{{ width }}"  xlink:href="/res/vortrag_{{ i }}.svg" />
							  </svg>
							</div >
							{% endfor %}
							<div class="swiper-slide"> 
						      <svg height="{{ height }}" width="{{ width }}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
							  		<image x="0" y="0" height="{{ height }}" width="{{ width }}"  xlink:href="/res/vortrag_0.svg" />
							  </svg>
							</div >
						{% endif %}
						{% if order == 'notes' %}
				    		{% for i in range (1, numPages, 2) %}
						    <div class="swiper-slide"> 
						      <svg height="{{ height }}" width="{{ width }}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
							  		<image x="0" y="0" height="{{ height }}" width="{{ width }}"  xlink:href="/res/vortrag_{{ i }}.svg" />
							  </svg>
							</div >
							{% endfor %}
						{% endif %}
					</div>
				</div>
			</div>
			<div data-role="footer">
				<div>
					<form action="/quitPresentation" method="get" data-ajax="false">            
				    	<input type="submit" value="quit" />
				    	{% if order == 'normal' %}
				    	normal
				    	{% endif %}
				    	
				    </form>
			    </div>
			</div>	 
		</div>
    </body>
</html>
<!-- $( "svg" ).click(function() { -->
<!-- 					event.preventDefault(); -->
<!-- 				}); -->
<!-- 				});  -->
<!-- 				<div>     -->
<!-- 				    <svg id="svgimage" height="800" width="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" > -->
<!-- 				  		<image id="svgimageInner" x="0" y="0" height="800" width="600"  xlink:href="/res/vortrag.svg" /> -->
<!-- 					</svg> -->
<!-- 				</div> -->
<!-- // 		       	var svg = document.getElementById('svgimage'); -->
<!-- // 		       	var svgInner = document.getElementById('svgimageInner'); -->
<!-- // 		    	var bBox = svg.getBBox(); -->
<!-- // 		    	console.log('XxY', bBox.x + 'x' + bBox.y); -->
<!-- // 		    	console.log('size', bBox.width + 'x' + bBox.height); -->
<!-- // 		    	var w = window, -->
<!-- // 		        d = document, -->
<!-- // 		        e = d.documentElement, -->
<!-- // 		        g = d.getElementsByTagName('body')[0], -->
<!-- // 		        windowWidth = w.innerWidth || e.clientWidth || g.clientWidth, -->
<!-- // 		        windowHeight = w.innerHeight|| e.clientHeight|| g.clientHeight; -->
<!-- // 		    	var scalefactor; -->
<!-- // 		    	if (windowWidth/windowHeight >  bBox.width/bBox.height) -->
<!-- // 		    	{ -->
<!-- // 		            scaleFactor = windowHeight/bBox.height           -->
<!-- // 		    	} -->
<!-- // 		    	else -->
<!-- // 		    	{ -->
<!-- // 		            scaleFactor = windowWidth/bBox.width -->
<!-- // 		    	} -->
<!-- // 		    	svg.setAttribute("width", windowWidth); -->
<!-- // 		    	svg.setAttribute("height", windowHeight); -->
<!-- // 		    	svgInner.setAttribute("width", windowWidth); -->
<!-- // 		    	svgInner.setAttribute("height", windowHeight); -->
<!--  $('<form action="/setPage" method="POST" enctype="application/x-www-form-urlencoded" data-ajax="false">' +  -->
<!-- 	    				    '<input type="hidden" name="pageNr" value="' + mySwiper.activeIndex + '">' -->
<!-- 	    				    '</form>').submit(); -->